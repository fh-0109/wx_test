<!--index.wxml-->
<view class="container">
	<view class="fix_tip {{offline?'active':''}}">
		<text>ç¦»çº¿ç¼“å­˜æ¨¡å¼</text>
	</view>

	<block wx:if="{{showBanner}}">

		<view class="swiper-content">
			<swiper indicator-dots="true" autoplay="true" interval="2000" duration="500">
				<block wx:for="{{articleList}}" wx:key="{{index}}">
					<swiper-item>
						<navigator url="/pages/news/news?articleUrl={{item.url}}">
							<image src='{{item.thumbUrl}}' mode='aspectFill' class='swiper-item-images' />
							<view class='swipertitle'><text>{{item.title}}</text></view>
						</navigator>

					</swiper-item>
				</block>
			</swiper>
		</view>

	</block>




	<!--åŠŸèƒ½å¯¼èˆª-->
	<!--é»˜è®¤æ•°ç»„çš„å½“å‰é¡¹çš„ä¸‹æ ‡å˜é‡åé»˜è®¤ä¸ºindexï¼Œæ•°ç»„å½“å‰é¡¹çš„å˜é‡åé»˜è®¤ä¸ºitem-->
	<view class="main-core">

		<block wx:for="{{core}}" wx:key="id">

			<navigator class="main-core-item" url="{{'/pages/core/'+item.id+'/'+item.id}}">
				<image class="core-item-icon" src="/images/core/{{item.id}}.png"></image>
				<text class="core-item-name">{{item.name}}</text>
			</navigator>
			<!-- <view wx:else class="main-core-item disabled" bindtap="disabled_item">
        <image class="core-item-icon" src="/images/core/{{item.id}}@disabled.png"></image>
        <text class="core-item-name">{{item.name}}</text>
      </view> -->
		</block>
		<view class="fix_tip {{disabledItemTap?'active':''}}">
			<text wx:if="{{remind == 'æœªç»‘å®š'}}">è¯·å…ˆç»‘å®šå¸å·</text>
			<text wx:else>{{(user.teacher && !offline) ? 'æ— æƒé™' : 'è¯¥æœåŠ¡ä¸å¯ç”¨'}}</text>
		</view>
	</view>
	<view wx:if="{{remind}}" class="remind-box">
		<image wx:if="{{remind == 'åŠ è½½ä¸­'}}" class="remind-img" src="/images/index/loading.gif"></image>
		<block wx:else>
			<image class="remind-img" src="/images/index/nothing.png"></image>
			<text class="remind-text">{{remind}}</text>
			<navigator wx:if="{{remind == 'æœªç»‘å®š'}}" url="/pages/more/login" class="remind-btn">å‰å¾€ç»‘å®š</navigator>
		</block>
	</view>
	<!--å¡ç‰‡åˆ—è¡¨-->
	<view wx:else class="main-card">

		<!--ä»Šæ—¥è¯¾è¡¨-->
		<view class="main-card-item" id="kb">
			<navigator url="/pages/core/kb/kb">
				<view class="card-item-hd">
					<image class="card-item-icon" src="/images/core/kb.png"></image>
					<view wx:if="{{showTodayCourse}}">
						<text class="card-item-name">ä»Šæ—¥è¯¾è¡¨</text>
					</view>
					<view wx:else>
						<text class="card-item-name">æ˜æ—¥è¯¾è¡¨</text>
					</view>
				</view>
				<view wx:if="{{hasCourse}}" class="card-item-bd kb-nothing">
					<text wx:if="{{showTodayCourse}}">ä»Šå¤©å±…ç„¶æ²¡æœ‰è¯¾~ğŸ˜†</text>
					<text wx:else>æ˜å¤©ç”šè‡³æ²¡æœ‰è¯¾~ğŸ˜†</text>
				</view>
				<view wx:else class="card-item-bd">
					<view class="kb-item" wx:for="{{todayCourse}}">
						<view class="kb-item-left">
							<text class="kb-item-what">{{item.name}} ({{item.week}})</text>
							<text class="kb-item-when">{{item.orderName}}</text>
						</view>
						<text class="kb-item-where">{{item.room}}</text>
					</view>
				</view>
				<view class="kb-open">
					<text>æŸ¥çœ‹å®Œæ•´è¯¾è¡¨</text>
				</view>
			</navigator>
		</view>

		<!--ä¸€å¡é€š-->
		<view class="main-card-item" id="ykt" wx-if="{{card.ykt.show}}">
			<view class="card-item-hd">
				<image class="card-item-icon" src="/images/core/ykt.png"></image>
				<text class="card-item-name">ä¸€å¡é€šï¼ˆå¯ä¸‹æ‹‰åˆ·æ–°ï¼‰</text>
			</view>
			<block wx:if="{{mobile}}">
				<block wx:if="{{card_balance}}">
					<view class="card-item-bd">
						<view class="card-info-hd">
							<view class="card-info-left">
								<text class="ykt-title">ä½™é¢ï¼š</text>
							</view>
							<view class="card-info-right">
								<view>æˆªè‡³æ—¶é—´ï¼š{{card_update_time}}</view>
							</view>
						</view>
						<view class="ykt-balance">
							<text class="ykt-balance-value">{{card_balance}}</text>
							<text class="ykt-balance-text">å…ƒ</text>
						</view>
					</view>
				</block>

				<block wx:else>
					<view class="ykt-balance">
						<text class="ykt-balance-value"></text>
						<text class="ykt-balance-text">ç³»ç»Ÿç»´æŠ¤ä¸­</text>
					</view>
				</block>

			</block>
			<block wx:else>
				<navigator url="/pages/core/ykt/ykt">
					<view class="ykt-balance">
						<text class="ykt-balance-value"></text>
						<text class="ykt-balance-text">è¯·å…ˆç‚¹æˆ‘ç»‘å®š</text>
					</view>
				</navigator>
			</block>
		</view>

		<!--å€Ÿé˜…ä¿¡æ¯-->
		<view class="main-card-item" id="jy" wx:if="{{examShow}}">
			<navigator url="/pages/core/ks/ks">
				<view class="card-item-hd">
					<image class="card-item-icon" src="/images/core/jy.png"></image>
					<text class="card-item-name">è€ƒè¯•å®‰æ’</text>
				</view>
				<view class="card-item-bd">
					<!-- <view class="card-info-hd">
          <view class="card-info-left">
            <text class="card-info-name">{{user.we.info.name}}</text>
            <text class="card-info-number">{{user.we.info.id}}</text>
          </view>
          <view class="card-info-right">
            <text>å½“å‰å€Ÿé˜…ï¼š{{card.jy.data.books_num}}</text>
          </view>
        </view> -->
					<view class="jy-list">
						<view class="jy-item" wx:for="{{examTimetable}}" wx:key="book_name">
							<view class="jy-book">
								<view class="jy-pickup-time">
									<text class="jy-pickup-time-value">{{item.date}}</text>
								</view>
								<text class="jy-book-name">{{item.name}}</text>
							</view>
							<block wx:if="{{item.timing==0}}">

								<view class="jy-timing">
									<text class="jy-timing-value">ä»Šå¤©è€ƒè¯•åŠ æ²¹</text>
								</view>
							</block>
							<block wx:else>

								<view class="jy-timing">
									<text class="jy-timing-text" wx:if="{{item.timing>=0}}">è¿˜æœ‰</text>
									<text class="jy-timing-text" wx:else>å·²è¶…è¿‡</text>
									<text class="jy-timing-value">{{item.timing>=0?item.timing:-item.timing}}</text>
									<text class="jy-timing-text">å¤©</text>
								</view>
							</block>

						</view>
					</view>
				</view>
			</navigator>
		</view>

		<!--æ°´ç”µè´¹-->
		<view class="main-card-item" id="sdf" wx:if="{{card.sdf.show}}">
			<navigator url="/pages/core/sdf/sdf">
				<view class="card-item-hd">
					<image class="card-item-icon" src="/images/core/sdf.png"></image>
					<text class="card-item-name">ç”µè´¹æŸ¥è¯¢</text>
				</view>
				<view class="card-item-bd">
					<view class="card-info-hd">
						<view class="card-info-left">
							<text class="card-info-name">{{card.sdf.data.room}}</text>
						</view>
						<view class="card-info-right">
							<view>æˆªè‡³æ—¶é—´ï¼š{{card.sdf.data.record_time}}</view>
						</view>
					</view>
					<text class="sdf-hd">å½“æœˆç”¨ç”µï¼š</text>
					<view class="sdf-bd">
						<view class="sdf-key">
							<text class="sdf-value">{{card.sdf.data.spend}}</text>
							<text class="sdf-text">åº¦</text>
						</view>
						<view class="sdf-key" wx:if="{{card.sdf.data.cost<=0}}">
							<text class="sdf-text">å‰©ä½™</text>
							<text class="sdf-value">{{-card.sdf.data.cost}}</text>
							<text class="sdf-text">å…ƒ</text>
						</view>
						<view class="sdf-key" wx:else>
							<text class="sdf-text">ç”¨è¶…</text>
							<text class="sdf-value">{{card.sdf.data.cost}}</text>
							<text class="sdf-text">å…ƒ</text>
						</view>
					</view>
				</view>
			</navigator>
		</view>
	</view>

	<view class="main-ending">
		<view class="main-ending-line"></view>
		<view class="main-ending-text">æˆ‘æ˜¯ä¸€ä¸ªä¹–å·§çš„ç»“å°¾</view>
		<view class="main-ending-line"></view>
	</view>

</view>